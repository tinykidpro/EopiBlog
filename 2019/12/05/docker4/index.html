<!DOCTYPE html><html lang="en" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><title>4. Viết dockerfile để build image | Eopi Blog</title><meta name="description" content="4. Viết dockerfile để build image"><meta name="keywords" content="Docker,Virtual Machine"><meta name="author" content="Eopi Noriko"><meta name="copyright" content="Eopi Noriko"><meta name="format-detection" content="telephone=no"><link rel="shortcut icon" href="/img/icon.ico"><link rel="preconnect" href="//cdn.jsdelivr.net"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:title" content="4. Viết dockerfile để build image"><meta name="twitter:description" content="4. Viết dockerfile để build image"><meta name="twitter:image" content="https://eopi.loliteam.net/img/docker.png"><meta property="og:type" content="article"><meta property="og:title" content="4. Viết dockerfile để build image"><meta property="og:url" content="https://eopi.loliteam.net/2019/12/05/docker4/"><meta property="og:site_name" content="Eopi Blog"><meta property="og:description" content="4. Viết dockerfile để build image"><meta property="og:image" content="https://eopi.loliteam.net/img/docker.png"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><script src="https://cdn.jsdelivr.net/npm/js-cookie/dist/js.cookie.min.js"></script><script>const autoChangeMode = 'false'
var t = Cookies.get("theme");
if (autoChangeMode == '1'){
const isDarkMode = window.matchMedia("(prefers-color-scheme: dark)").matches
const isLightMode = window.matchMedia("(prefers-color-scheme: light)").matches
const isNotSpecified = window.matchMedia("(prefers-color-scheme: no-preference)").matches
const hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified

if (t === undefined){
  if (isLightMode) activateLightMode()
  else if (isDarkMode) activateDarkMode()
  else if (isNotSpecified || hasNoSupport){
    console.log('You specified no preference for a color scheme or your browser does not support it. I Schedule dark mode during night time.')
    now = new Date();
    hour = now.getHours();
    isNight = hour < 6 || hour >= 18
    isNight ? activateDarkMode() : activateLightMode()
}
} else if (t == 'light') activateLightMode()
else activateDarkMode()


} else if (autoChangeMode == '2'){
  now = new Date();
  hour = now.getHours();
  isNight = hour < 6 || hour >= 18
  if(t === undefined) isNight? activateDarkMode() : activateLightMode()
  else if (t === 'light') activateLightMode()
  else activateDarkMode() 
} else {
  if ( t == 'dark' ) activateDarkMode()
  else if ( t == 'light') activateLightMode()
}

function activateDarkMode(){
  document.documentElement.setAttribute('data-theme', 'dark')
  if (document.querySelector('meta[name="theme-color"]') !== null){
    document.querySelector('meta[name="theme-color"]').setAttribute('content','#000')
  }
}
function activateLightMode(){
  document.documentElement.setAttribute('data-theme', 'light')
  if (document.querySelector('meta[name="theme-color"]') !== null){
  document.querySelector('meta[name="theme-color"]').setAttribute('content','#fff')
  }
}</script><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@latest/css/font-awesome.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-snackbar@0.1.15/dist/snackbar.min.css"><link rel="canonical" href="https://eopi.loliteam.net/2019/12/05/docker4/"><link rel="prev" title="5. Network trong docker" href="/https:/eopi.loliteam.net/2019/12/05/docker5/"><link rel="next" title="3. Docker image" href="/https:/eopi.loliteam.net/2019/12/05/docker3/"><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Titillium+Web"><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"search.xml","languages":{"hits_empty":"Chúng tôi không tìm thấy bất kỳ kết quả nào cho tìm kiếm: ${query}"}},
  translate: undefined,
  highlight_copy: 'true',
  highlight_lang: 'true',
  highlight_shrink: 'false',
  copy: {
    success: 'Sao chép thành công',
    error: 'Sao chép lỗi',
    noSupport: 'Trình duyệt không hỗ trợ'
  },
  bookmark: {
    title: 'Snackbar.bookmark.title',
    message_prev: 'Nhấn',
    message_next: 'để đánh dấu trang này'
  },
  runtime_unit: 'days',
  copyright: undefined,
  copy_copyright_js: false,
  ClickShowText: {"text":"Eopi,LoLi,Shiina","fontSize":"15px"},
  medium_zoom: 'true',
  Snackbar: {"bookmark":{"title":"Snackbar.bookmark.title","message_prev":"Nhấn","message_next":"để đánh dấu trang này"},"chs_to_cht":"Traditional Chinese Activated Manually","cht_to_chs":"Simplified Chinese Activated Manually","day_to_night":"Light Mode Activated Manually","night_to_day":"Dark Mode Activated Manually","bgLight":"#49b1f5","bgDark":"#2d3035","position":"bottom-left"}
  
}</script></head><body><div id="header"> <div id="page-header"><span class="pull_left" id="blog_name"><a class="blog_title" id="site-name" href="/">Eopi Blog</a></span><i class="fa fa-bars fa-fw toggle-menu pull_right close" aria-hidden="true"></i><span class="pull_right menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> Archives</span></a></div></div></span><span class="pull_right" id="search_button"><a class="site-page social-icon search"><i class="fa fa-search fa-fw"></i><span> Search</span></a></span></div></div><div id="mobile-sidebar"><div id="menu_mask"></div><div id="mobile-sidebar-menus"><div class="mobile_author_icon"><img class="lazyload avatar_img" src="/img/avatar.png" onerror="onerror=null;src='/img/friend_404.gif'"></div><div class="mobile_post_data"><div class="mobile_data_item is_center"><div class="mobile_data_link"><a href="/archives/"><div class="headline">Articles</div><div class="length_num">14</div></a></div></div><div class="mobile_data_item is_center">      <div class="mobile_data_link"><a href="/tags/"><div class="headline">Tags</div><div class="length_num">9</div></a></div></div></div><hr><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> Archives</span></a></div></div></div><div id="mobile-sidebar-toc"><div class="toc_mobile_headline">Mục lục</div><ol class="toc_mobile_items"><li class="toc_mobile_items-item toc_mobile_items-level-1"><a class="toc_mobile_items-link" href="#1-Ghi-chep-ve-Dockerfile"><span class="toc_mobile_items-number">1.</span> <span class="toc_mobile_items-text">1. Ghi chép về Dockerfile</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-1"><a class="toc_mobile_items-link" href="#2-Dockerfile-Systax"><span class="toc_mobile_items-number">2.</span> <span class="toc_mobile_items-text">2. Dockerfile Systax</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-1"><a class="toc_mobile_items-link" href="#3-Dockerfile-Commands"><span class="toc_mobile_items-number">3.</span> <span class="toc_mobile_items-text">3. Dockerfile Commands</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#3-1-FROM"><span class="toc_mobile_items-number">3.1.</span> <span class="toc_mobile_items-text">3.1 FROM</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#3-2-RUN"><span class="toc_mobile_items-number">3.2.</span> <span class="toc_mobile_items-text">3.2 RUN</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#3-3-CMD"><span class="toc_mobile_items-number">3.3.</span> <span class="toc_mobile_items-text">3.3 CMD</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#3-4-LABEL"><span class="toc_mobile_items-number">3.4.</span> <span class="toc_mobile_items-text">3.4 LABEL</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#3-5-MAINTAINER"><span class="toc_mobile_items-number">3.5.</span> <span class="toc_mobile_items-text">3.5 MAINTAINER</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#3-6-EXPOSE"><span class="toc_mobile_items-number">3.6.</span> <span class="toc_mobile_items-text">3.6 EXPOSE</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#3-7-ENV"><span class="toc_mobile_items-number">3.7.</span> <span class="toc_mobile_items-text">3.7 ENV</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#3-8-ADD"><span class="toc_mobile_items-number">3.8.</span> <span class="toc_mobile_items-text">3.8 ADD</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#3-9-COPY"><span class="toc_mobile_items-number">3.9.</span> <span class="toc_mobile_items-text">3.9 COPY</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#3-10-ENTRYPOINT"><span class="toc_mobile_items-number">3.10.</span> <span class="toc_mobile_items-text">3.10 ENTRYPOINT</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#3-11-VOLUME"><span class="toc_mobile_items-number">3.11.</span> <span class="toc_mobile_items-text">3.11 VOLUME</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#3-12-USER"><span class="toc_mobile_items-number">3.12.</span> <span class="toc_mobile_items-text">3.12 USER</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#3-13-WORKDIR"><span class="toc_mobile_items-number">3.13.</span> <span class="toc_mobile_items-text">3.13 WORKDIR</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#3-14-ARG"><span class="toc_mobile_items-number">3.14.</span> <span class="toc_mobile_items-text">3.14 ARG</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#3-15-STOPSIGNAL"><span class="toc_mobile_items-number">3.15.</span> <span class="toc_mobile_items-text">3.15 STOPSIGNAL</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#3-16-SHELL"><span class="toc_mobile_items-number">3.16.</span> <span class="toc_mobile_items-text">3.16 SHELL</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#3-17-ONBUILD"><span class="toc_mobile_items-number">3.17.</span> <span class="toc_mobile_items-text">3.17 ONBUILD</span></a></li></ol></li></ol></div></div><div id="body-wrap"><div id="web_bg" data-type="color"></div><i class="fa fa-arrow-right" id="toggle-sidebar" aria-hidden="true">     </i><div class="auto_open" id="sidebar"><div class="sidebar-toc"><div class="sidebar-toc__title">Mục lục</div><div class="sidebar-toc__progress"><span class="progress-notice">Bạn đã đọc</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc__progress-bar">     </div></div><div class="sidebar-toc__content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#1-Ghi-chep-ve-Dockerfile"><span class="toc-number">1.</span> <span class="toc-text">1. Ghi chép về Dockerfile</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#2-Dockerfile-Systax"><span class="toc-number">2.</span> <span class="toc-text">2. Dockerfile Systax</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#3-Dockerfile-Commands"><span class="toc-number">3.</span> <span class="toc-text">3. Dockerfile Commands</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#3-1-FROM"><span class="toc-number">3.1.</span> <span class="toc-text">3.1 FROM</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-2-RUN"><span class="toc-number">3.2.</span> <span class="toc-text">3.2 RUN</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-3-CMD"><span class="toc-number">3.3.</span> <span class="toc-text">3.3 CMD</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-4-LABEL"><span class="toc-number">3.4.</span> <span class="toc-text">3.4 LABEL</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-5-MAINTAINER"><span class="toc-number">3.5.</span> <span class="toc-text">3.5 MAINTAINER</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-6-EXPOSE"><span class="toc-number">3.6.</span> <span class="toc-text">3.6 EXPOSE</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-7-ENV"><span class="toc-number">3.7.</span> <span class="toc-text">3.7 ENV</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-8-ADD"><span class="toc-number">3.8.</span> <span class="toc-text">3.8 ADD</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-9-COPY"><span class="toc-number">3.9.</span> <span class="toc-text">3.9 COPY</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-10-ENTRYPOINT"><span class="toc-number">3.10.</span> <span class="toc-text">3.10 ENTRYPOINT</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-11-VOLUME"><span class="toc-number">3.11.</span> <span class="toc-text">3.11 VOLUME</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-12-USER"><span class="toc-number">3.12.</span> <span class="toc-text">3.12 USER</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-13-WORKDIR"><span class="toc-number">3.13.</span> <span class="toc-text">3.13 WORKDIR</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-14-ARG"><span class="toc-number">3.14.</span> <span class="toc-text">3.14 ARG</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-15-STOPSIGNAL"><span class="toc-number">3.15.</span> <span class="toc-text">3.15 STOPSIGNAL</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-16-SHELL"><span class="toc-number">3.16.</span> <span class="toc-text">3.16 SHELL</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-17-ONBUILD"><span class="toc-number">3.17.</span> <span class="toc-text">3.17 ONBUILD</span></a></li></ol></li></ol></div></div></div><div id="content-outer"><div id="top-container" style="background-image: url(/img/docker.png)"><div id="post-info"><div id="post-title"><div class="posttitle">4. Viết dockerfile để build image</div></div><div id="post-meta"><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> Created 2019-12-05<span class="post-meta__separator">|</span><i class="fa fa-history" aria-hidden="true"></i> Updated 2019-12-05</time><div class="post-meta-wordcount"><i class="fa fa-eye post-meta__icon" aria-hidden="true">       </i><span>Post View: </span><span id="busuanzi_value_page_pv"></span></div></div></div></div><div class="layout layout_post" id="content-inner">   <article id="post"><div class="article-container" id="post-content"><h1 id="1-Ghi-chep-ve-Dockerfile"><a href="#1-Ghi-chep-ve-Dockerfile" class="headerlink" title="1. Ghi chép về Dockerfile"></a>1. Ghi chép về Dockerfile</h1><ul>
<li>Dockerfile có thể hình dung như một script dùng để build các image trong container.</li>
<li>Dockerfile bao gồm các câu lệnh liên tiếp nhau được thực hiện tự động trên một image gốc để tạo ra một image mới. Dockerfile giúp đơn giản hóa tiến trình từ lúc bắt đầu đến khi kết thúc.</li>
<li>Trong <code>Dockerfile</code> có các câu lệnh chính sau:<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">FROM</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">RUN</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">CMD</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">....còn nữa</span></pre></td></tr></table></figure>

</li>
</ul>
<h1 id="2-Dockerfile-Systax"><a href="#2-Dockerfile-Systax" class="headerlink" title="2. Dockerfile Systax"></a>2. Dockerfile Systax</h1><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="comment"># Comment</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">INSTRUCTION arguments</span></pre></td></tr></table></figure>
<ul>
<li>Các INSTRUCTION là các chỉ thị, được docker quy định. Khi khai báo, các bạn phải viết chữ in hoa.</li>
<li>Các arguments là đoạn nội dung mà chỉ thị sẽ làm gì.</li>
<li>Ví dụ:<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="comment"># Comment</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">RUN <span class="built_in">echo</span> <span class="string">'we are running some # of cool things'</span></span></pre></td></tr></table></figure></li>
<li>Chúng ta sẽ đi tìm hiểu các INSTRUCTION</li>
</ul>
<h1 id="3-Dockerfile-Commands"><a href="#3-Dockerfile-Commands" class="headerlink" title="3. Dockerfile Commands"></a>3. Dockerfile Commands</h1><h2 id="3-1-FROM"><a href="#3-1-FROM" class="headerlink" title="3.1 FROM"></a>3.1 FROM</h2><ul>
<li>Dùng để chỉ ra image được build từ đâu (từ image gốc nào)<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">FROM ubuntu</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">hoặc có thể chỉ rõ tag của image gốc</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line">FROM ubuntu14.04:lastest</span></pre></td></tr></table></figure>

</li>
</ul>
<h2 id="3-2-RUN"><a href="#3-2-RUN" class="headerlink" title="3.2 RUN"></a>3.2 RUN</h2><ul>
<li>Dùng để chạy một lệnh nào đó khi build image, ví dụ về một <code>Dockerfile</code><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">FROM ubuntu</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">RUN apt-get update</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">RUN apt-get install curl -y</span></pre></td></tr></table></figure>


</li>
</ul>
<h2 id="3-3-CMD"><a href="#3-3-CMD" class="headerlink" title="3.3 CMD"></a>3.3 CMD</h2><ul>
<li>Lệnh CMD dùng để truyền một lệnh của Linux mỗi khi thực hiện khởi tạo một container từ image (image này được build từ <code>Dockerfile</code>)</li>
<li>Có các cách (trong docs nói có 3 cách) sử dụng lệnh CMD, ví dụ <figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="comment">#Cách 1</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">FROM ubuntu</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">RUN apt-get update</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">RUN apt-get install curl -y</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line">CMD [<span class="string">"curl"</span>, <span class="string">"ipinfo.io"</span>]</span></pre></td></tr></table></figure>
hoặc<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="comment">#Cách 2</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">FROM ubuntu</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">RUN apt-get update</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">RUN apt-get install wget -y</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line">CMD curl ifconfig.io</span></pre></td></tr></table></figure>

</li>
</ul>
<h2 id="3-4-LABEL"><a href="#3-4-LABEL" class="headerlink" title="3.4 LABEL"></a>3.4 LABEL</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">LABEL &lt;key&gt;=&lt;value&gt; &lt;key&gt;=&lt;value&gt; &lt;key&gt;=&lt;value&gt; ...</span></pre></td></tr></table></figure>
<p>Chỉ thị <strong>LABEL</strong> dùng để add các metadata vào image.</p>
<ul>
<li><p>Ví dụ: </p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">LABEL <span class="string">"com.example.vendor"</span>=<span class="string">"ACME Incorporated"</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">LABEL com.example.label-with-value=<span class="string">"foo"</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">LABEL version=<span class="string">"1.0"</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">LABEL description=<span class="string">"This text illustrates \</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line"><span class="string">that label-values can span multiple lines."</span></span></pre></td></tr></table></figure>
</li>
<li><p>Để xem các <strong>label</strong> của images, dùng lệnh <code>docker inspect</code>.</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="string">"Labels"</span>: &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">    <span class="string">"com.example.vendor"</span>: <span class="string">"ACME Incorporated"</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">    <span class="string">"com.example.label-with-value"</span>: <span class="string">"foo"</span>,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">    <span class="string">"version"</span>: <span class="string">"1.0"</span>,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line">    <span class="string">"description"</span>: <span class="string">"This text illustrates that label-values can span multiple lines."</span>,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line">    <span class="string">"multi.label1"</span>: <span class="string">"value1"</span>,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line">    <span class="string">"multi.label2"</span>: <span class="string">"value2"</span>,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">8</span></pre></td><td class="code"><pre><span class="line">    <span class="string">"other"</span>: <span class="string">"value3"</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">9</span></pre></td><td class="code"><pre><span class="line">&#125;,</span></pre></td></tr></table></figure>

</li>
</ul>
<h2 id="3-5-MAINTAINER"><a href="#3-5-MAINTAINER" class="headerlink" title="3.5 MAINTAINER"></a>3.5 MAINTAINER</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">MAINTAINER &lt;name&gt;</span></pre></td></tr></table></figure>
<p>Dùng để đặt tên giả của images.</p>
<p>Hoặc bạn có thể sử dụng</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">LABEL maintainer <span class="string">"SvenDowideit@home.org.au"</span></span></pre></td></tr></table></figure>

<h2 id="3-6-EXPOSE"><a href="#3-6-EXPOSE" class="headerlink" title="3.6 EXPOSE"></a>3.6 EXPOSE</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">EXPOSE &lt;port&gt; [&lt;port&gt;...]</span></pre></td></tr></table></figure>
<ul>
<li>Lệnh EXPOSE thông báo cho Docker rằng image sẽ lắng nghe trên các cổng được chỉ định khi chạy. Lưu ý là cái này chỉ<br>để khai báo, chứ ko có chức năng nat port từ máy host vào container. Muốn nat port, thì phải sử dụng cờ -p (nat một vài port) hoặc -P (nat tất<br>cả các port được khai báo trong EXPOSE) trong quá trình khởi tạo contrainer.</li>
</ul>
<h2 id="3-7-ENV"><a href="#3-7-ENV" class="headerlink" title="3.7 ENV"></a>3.7 ENV</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">ENV &lt;key&gt; &lt;value&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">ENV &lt;key&gt;=&lt;value&gt; ...</span></pre></td></tr></table></figure>
<ul>
<li><p>Khai báo cáo biến giá trị môi trường. Khi run container từ image, các biến môi trường này vẫn có hiệu lực.</p>
</li>
<li><p>Biến môi trường có thể được sử dụng trong các chỉ dẫn lệnh sau:</p>
<ul>
<li>ADD</li>
<li>COPY</li>
<li>ENV</li>
<li>EXPOSE</li>
<li>FROM</li>
<li>LABEL</li>
<li>STOPSIGNAL</li>
<li>USER</li>
<li>VOLUME</li>
<li>WORKDIR</li>
</ul>
</li>
<li><p>Ta có thể sử dụng các khai báo trong file <code>.dockerfileignore</code> để phớt lờ đi sự có mặt của các file đang có trong đường dẫn thực hiện build Docker. <code>.dockerfileignore</code> sử dụng <code>filepath.Math rules</code>. Ví dụ:</p>
<p><em>/temp</em> có nghĩa là loại trừ các file và đường dẫn bắt đầu bằng temp hoặc sub-directory của root. Ví dụ sau đều có thể hiểu là một:</p>
<pre><code>- /subdir/temp</code></pre><p>hoặc </p>
<pre><code>- /sbdir/temp.dump</code></pre><p>các file hoặc đường dẫn xuất hiện cụm từ <code>temp</code> đều được ignore.</p>
<pre><code>pattern:
{ term }</code></pre><p>  term:</p>
<pre><code>&apos;*&apos;         matches any sequence of non-Separator characters
&apos;?&apos;         matches any single non-Separator character
&apos;[&apos; [ &apos;^&apos; ] { character-range } &apos;]&apos;
            character class (must be non-empty)
c           matches character c (c != &apos;*&apos;, &apos;?&apos;, &apos;\\&apos;, &apos;[&apos;)
&apos;\\&apos; c      matches character c</code></pre><p>  character-range:</p>
<pre><code>c           matches character c (c != &apos;\\&apos;, &apos;-&apos;, &apos;]&apos;)
&apos;\\&apos; c      matches character c
lo &apos;-&apos; hi   matches character c for lo &lt;= c &lt;= hi</code></pre><p>dòng bắt đầu bằng ! có thể hiểu là tạo ra một ngoại lệ trong file. Ví dụ:</p>
<pre><code>*.md
!README.md</code></pre><p>có thể hiểu là tất cả các file .md <code>đều không được sử dụng ngoại trừ file README.md</code></p>
</li>
</ul>
<h2 id="3-8-ADD"><a href="#3-8-ADD" class="headerlink" title="3.8 ADD"></a>3.8 ADD</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">ADD has two forms:</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">ADD &lt;src&gt;... &lt;dest&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">ADD [<span class="string">"&lt;src&gt;"</span>,... <span class="string">"&lt;dest&gt;"</span>] (this form is required <span class="keyword">for</span> paths containing whitespace)</span></pre></td></tr></table></figure>
<ul>
<li>Chỉ thị ADD copy file, thư mục, remote files URL (src) và thêm chúng vào filesystem của image (dest)</li>
<li><strong>src</strong>: có thể khai báo nhiều file, thư mục, có thể sử dụng các ký hiệu như *,?,…</li>
<li><strong>dest</strong> phải là đường dẫn tuyệt đối hoặc có quan hệ với chỉ thị <strong>WORKDIR</strong></li>
</ul>
<p>Note: If your URL files are protected using authentication, you will need to use RUN wget, RUN curl or use another tool from within the container as the ADD instruction does not support authentication.</p>
<ul>
<li>Các quy định:<ul>
<li>The <src> path must be inside the context of the build: Có nghĩa là <src> phải nằm trong thư mục đang build (chứa dockerfiles).</li>
<li>If <src> is a directory, the entire contents of the directory are copied, including filesystem metadata. The directory itself is not copied, just its contents.</li>
<li>If multiple <src> resources are specified, either directly or due to the use of a wildcard, then <dest> must be a directory, and it must end with a slash /.</li>
<li>If <dest> does not end with a trailing slash, it will be considered a regular file and the contents of <src> will be written at <dest>.</li>
<li>If <dest> doesn’t exist, it is created along with all missing directories in its path.</li>
</ul>
</li>
</ul>
<h2 id="3-9-COPY"><a href="#3-9-COPY" class="headerlink" title="3.9 COPY"></a>3.9 COPY</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">COPY &lt;src&gt;... &lt;dest&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">COPY [<span class="string">"&lt;src&gt;"</span>,... <span class="string">"&lt;dest&gt;"</span>] (this form is required <span class="keyword">for</span> paths containing whitespace)</span></pre></td></tr></table></figure>
<ul>
<li>Chỉ thị COPY, copy file, thư mục (src) và thêm chúng vào filesystem của container (dest).</li>
<li>Các lưu ý tương tự chỉ thị ADD.</li>
</ul>
<h2 id="3-10-ENTRYPOINT"><a href="#3-10-ENTRYPOINT" class="headerlink" title="3.10 ENTRYPOINT"></a>3.10 ENTRYPOINT</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">ENTRYPOINT [<span class="string">"executable"</span>, <span class="string">"param1"</span>, <span class="string">"param2"</span>] (<span class="built_in">exec</span> form, preferred)</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">ENTRYPOINT <span class="built_in">command</span> param1 param2 (shell form)</span></pre></td></tr></table></figure>

<p>Hai cái CMD và ENTRYPOINT có tác dụng tương tự nhau. Nếu một Dockerfile có cả CMD và ENTRYPOINT thì CMD sẽ thành param cho script ENTRYPOINT.<br>Lý do người ta dùng ENTRYPOINT nhằm chuẩn bị các điều kiện setup như tạo user, mkdir, change owner… cần thiết để chạy service trong container. </p>
<h2 id="3-11-VOLUME"><a href="#3-11-VOLUME" class="headerlink" title="3.11 VOLUME"></a>3.11 VOLUME</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">VOLUME [<span class="string">"/data"</span>]</span></pre></td></tr></table></figure>
<ul>
<li>mount thư mục từ máy host và container. Tương tự <code>option -v</code> khi tạo container.</li>
<li>Thư mục chưa volumes là <code>/var/lib/docker/volumes/</code>. Ứng với mỗi container sẽ có các thư mục con nằm trong thư mục này. Tìm thư mục chưa Volumes của container <code>sad_euclid</code>: <figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">root@adk:/var/lib/docker/volumes<span class="comment"># docker inspect sad_euclid | grep /var/lib/docker/volumes</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line"><span class="string">"Source"</span>: <span class="string">"/var/lib/docker/volumes/491a2a775a4cf02bbaca105ec25995008cc7adbc5511e054bb9c6a691a2681ee/_data"</span>,</span></pre></td></tr></table></figure>


</li>
</ul>
<h2 id="3-12-USER"><a href="#3-12-USER" class="headerlink" title="3.12 USER"></a>3.12 USER</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">USER daemon</span></pre></td></tr></table></figure>
<ul>
<li>Set username hoặc UID để chạy các lệnh RUN, CMD, ENTRYPOINT trong dockerfiles.</li>
</ul>
<h2 id="3-13-WORKDIR"><a href="#3-13-WORKDIR" class="headerlink" title="3.13 WORKDIR"></a>3.13 WORKDIR</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">WORKDIR /path/to/workdir</span></pre></td></tr></table></figure>
<ul>
<li>Chỉ thị WORKDIR dùng để đặt thư mục đang làm việc cho các chỉ thị khác như: RUN, CMD, ENTRYPOINT, COPY, ADD,…</li>
</ul>
<h2 id="3-14-ARG"><a href="#3-14-ARG" class="headerlink" title="3.14 ARG"></a>3.14 ARG</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">ARG &lt;name&gt;[=&lt;default value&gt;]</span></pre></td></tr></table></figure>
<ul>
<li>Chỉ thị ARG dùng để định nghĩa các giá trị của biến được dùng trong quá trình build image (lệnh <code>docker build</code> –build-arg <varname>=<value>). </li>
<li>biến ARG sẽ không bền vững như khi sử dụng ENV.</li>
</ul>
<h2 id="3-15-STOPSIGNAL"><a href="#3-15-STOPSIGNAL" class="headerlink" title="3.15 STOPSIGNAL"></a>3.15 STOPSIGNAL</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">STOPSIGNAL signal</span></pre></td></tr></table></figure>
<ul>
<li>Gửi tín hiệu để container tắt đúng cách.</li>
</ul>
<h2 id="3-16-SHELL"><a href="#3-16-SHELL" class="headerlink" title="3.16 SHELL"></a>3.16 SHELL</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">SHELL [<span class="string">"executable"</span>, <span class="string">"parameters"</span>]</span></pre></td></tr></table></figure>

<ul>
<li>Chỉ thị Shell cho phép các shell form khác có thể ghi đè shell mặc định.</li>
<li>Mặc định trên Linux là <code>[&quot;/bin/sh&quot;, &quot;-c&quot;]</code> và Windows là <code>[&quot;cmd&quot;, &quot;/S&quot;, &quot;/C&quot;]</code>.</li>
</ul>
<p>Ví dụ:</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">FROM microsoft/windowsservercore</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line"><span class="comment"># Executed as cmd /S /C echo default</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">RUN <span class="built_in">echo</span> default</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line"><span class="comment"># Executed as cmd /S /C powershell -command Write-Host default</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line">RUN powershell -<span class="built_in">command</span> Write-Host default</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">8</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">9</span></pre></td><td class="code"><pre><span class="line"><span class="comment"># Executed as powershell -command Write-Host hello</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">10</span></pre></td><td class="code"><pre><span class="line">SHELL [<span class="string">"powershell"</span>, <span class="string">"-command"</span>]</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">11</span></pre></td><td class="code"><pre><span class="line">RUN Write-Host hello</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">12</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">13</span></pre></td><td class="code"><pre><span class="line"><span class="comment"># Executed as cmd /S /C echo hello</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">14</span></pre></td><td class="code"><pre><span class="line">SHELL [<span class="string">"cmd"</span>, <span class="string">"/S"</span><span class="string">", "</span>/C<span class="string">"]</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">15</span></pre></td><td class="code"><pre><span class="line"><span class="string">RUN echo hello</span></span></pre></td></tr></table></figure>

<h2 id="3-17-ONBUILD"><a href="#3-17-ONBUILD" class="headerlink" title="3.17 ONBUILD"></a>3.17 ONBUILD</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">ONBUILD [INSTRUCTION]</span></pre></td></tr></table></figure>

<ul>
<li>Chỉ thị ONBUILD được khai báo trong base image. Và khi child image build image từ  base image thì lệnh ONBUILD mới được thực thi.</li>
<li>Ví dụ: <a href="http://container42.com/2014/02/06/docker-quicktip-3-onbuild/" target="_blank" rel="noopener">http://container42.com/2014/02/06/docker-quicktip-3-onbuild/</a></li>
</ul>
</div></article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">Author: </span><span class="post-copyright-info"><a href="mailto:undefined" target="_blank" rel="noopener">Eopi Noriko</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">Link: </span><span class="post-copyright-info"><a href="/https:/eopi.loliteam.net/2019/12/05/docker4/">https://eopi.loliteam.net/2019/12/05/docker4/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">Copyright Notice: </span><span class="post-copyright-info">All articles in this blog are licensed under <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank" rel="noopener">CC BY-NC-SA 4.0</a> unless stating additionally.</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/Docker/">Docker    </a><a class="post-meta__tags" href="/tags/Virtual-Machine/">Virtual Machine    </a></div><div class="post_share"><div class="social-share" data-image="/img/docker.png" data-sites="facebook,twitter"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js@1.0.16/dist/css/share.min.css"><script src="https://cdn.jsdelivr.net/npm/social-share.js@1.0.16/dist/js/social-share.min.js"></script></div></div><nav class="pagination_post" id="pagination"><div class="prev-post pull_left"><a href="/2019/12/05/docker5/"><img class="prev_cover lazyload" data-src="/img/docker.png" onerror="onerror=null;src='/img/404.jpg'"><div class="label">Bài đăng trước</div><div class="prev_info"><span>5. Network trong docker</span></div></a></div><div class="next-post pull_right"><a href="/2019/12/05/docker3/"><img class="next_cover lazyload" data-src="/img/docker.png" onerror="onerror=null;src='/img/404.jpg'"><div class="label">Bài tiếp theo</div><div class="next_info"><span>3. Docker image</span></div></a></div></nav><div class="relatedPosts"><div class="relatedPosts_headline"><i class="fa fa-fw fa-thumbs-up" aria-hidden="true"></i><span> Recommend</span></div><div class="relatedPosts_list"><div class="relatedPosts_item"><a href="/2019/12/05/docker1/" title="1. Cài đặt docker engine cơ bản (Cài đặt môi trường lab)"><img class="relatedPosts_cover lazyload"data-src="/img/docker.png"><div class="relatedPosts_title">1. Cài đặt docker engine cơ bản (Cài đặt môi trường lab)</div></a></div><div class="relatedPosts_item"><a href="/2019/12/05/docker2/" title="2. Các ghi chép cần chú ý về docker"><img class="relatedPosts_cover lazyload"data-src="/img/docker.png"><div class="relatedPosts_title">2. Các ghi chép cần chú ý về docker</div></a></div><div class="relatedPosts_item"><a href="/2019/12/05/docker3/" title="3. Docker image"><img class="relatedPosts_cover lazyload"data-src="/img/docker.png"><div class="relatedPosts_title">3. Docker image</div></a></div></div><div class="clear_both"></div></div></div></div><footer id="footer" style="background-image: url(/img/docker.png)"><div id="footer-wrap"><div class="copyright">&copy;2019 By Eopi Noriko</div><div class="framework-info"><span>Power by </span><a href="https://loliteam.net" target="_blank" rel="noopener"><span>LoLi Team</span></a><span class="footer-separator">|</span><span>Build by </span><a href="https://facebook.com/Thuong.EoPi" target="_blank" rel="noopener"><span>Eopi Noriko</span></a></div></div></footer></div><section class="rightside" id="rightside"><div id="rightside-config-hide"><i class="fa fa-book" id="readmode" title="Read Mode"></i><i class="fa fa-plus" id="font_plus" title="Increase font size"></i><i class="fa fa-minus" id="font_minus" title="Decrease font size"></i><i class="darkmode fa fa-moon-o" id="darkmode" title="Dark Mode"></i></div><div id="rightside-config-show"><div id="rightside_config" title="Setting"><i class="fa fa-cog" aria-hidden="true"></i></div><i class="fa fa-list-ul close" id="mobile-toc-button" title="Table of Contents" aria-hidden="true"></i><i class="fa fa-arrow-up" id="go-up" title="Back to top" aria-hidden="true"></i></div></section><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/medium-zoom/dist/medium-zoom.min.js"></script><script async src="/js/search/local-search.js"></script><script src="https://cdn.jsdelivr.net/npm/node-snackbar@0.1.15/dist/snackbar.min.js"></script><script id="ribbon" src="/js/third-party/canvas-ribbon.js" size="150" alpha="0.7" zIndex="-1" mobile="true" data-click="true"></script><script id="ribbon_piao" mobile="true" src="/js/third-party/piao.js"></script><script id="canvas_nest" color="0,0,255" opacity="0.7" zIndex="-1" count="99" mobile="false" src="/js/third-party/canvas-nest.js"></script><script src="/js/third-party/activate-power-mode.js"></script><script>POWERMODE.colorful = true; // make power mode colorful
POWERMODE.shake = true; // turn off shake
document.body.addEventListener('input', POWERMODE);
</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page@latest/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/lazysizes@latest/lazysizes.min.js" async=""></script><script src="/js/third-party/click_heart.js"></script><script src="/js/third-party/ClickShowText.js"></script><div class="search-dialog" id="local-search"><div class="search-dialog__title" id="local-search-title">Tìm Kiếm</div><div id="local-input-panel"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="Tìm kiếm Bài viết"></div></div></div><hr><div id="local-search-results"><div id="local-hits"></div><div id="local-stats"><div class="local-search-stats__hr" id="hr"><span>Powered by</span> <a href="https://github.com/wzpan/hexo-generator-search" target="_blank" rel="noopener" style="color:#49B1F5;">hexo-generator-search</a></div></div></div><span class="search-close-button"><i class="fa fa-times"></i></span></div><div class="search-mask"></div></body></html>